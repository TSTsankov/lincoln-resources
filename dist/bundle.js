!function(e){function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=2)}([function(e,n){e.exports='<div class="card">\r\n    <div class="card-header">\r\n        <span class="float-right fa fa-close fa-2x" style="color: blue;cursor:pointer" ng-click="dismissModal()"></span>\r\n        <h3 class="" style="line-height: 2.3rem">Enter a name for your new {{message}}.</h3>\r\n\r\n    </div>\r\n    <div class="card-body text-center">\r\n        <form name="nameForm" ng-submit="closeModal(nameForm)">\r\n            <h5 ng-if="sectionName">Block: {{sectionName}}</h5>\r\n            <label for="name">Name:</label>\r\n            <input type="text" id="name" name="name" ng-model="newElement.name" ng-minlength="3" ng-required="true" ng-if="newElement.hasOwnProperty(\'name\')">\r\n            <input type="text" id="name" name="name" ng-model="newElement.subtitle" ng-minlength="3" ng-required="true" ng-if="newElement.hasOwnProperty(\'subtitle\')">\r\n            <p ng-show="!nameForm.$pristine && nameForm.name.$error.minlength">Minimum 3 characters</p>\r\n        </form>\r\n    </div>\r\n    <div class="card-footer text-center">\r\n        <div class="btn-group ">\r\n            <button class="btn btn-danger" ng-click="dismissModal()"> Never mind </button>\r\n            <div class="mx-2"></div>\r\n            <button class="btn btn-success" ng-click="closeModal(nameForm)"> Create</button>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,n){e.exports='<div class="pt-4 mt-5">\r\n    <h6>On this page: </h6>\r\n    <p class="small">(Click on title to scroll to)</p>\r\n    <ul class="my-4 summary-list">\r\n    <li class="my-3" ng-repeat="title in titles" ng-click="scrollTo(title,$event)">\r\n        {{title}}\r\n    </li>\r\n    </ul>\r\n</div>'},function(e,n,t){"use strict";Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),t=n.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var o=arguments[1],a=0;a<t;){var r=n[a];if(e.call(o,r,a,n))return a;a++}return-1}});var o=angular.module("MyApp",["ngRoute","ngResource","ngAnimate","duScroll","ui.bootstrap"]).run(["$anchorScroll",function(e){e.yOffset=90}]);o.config(["$routeProvider","$locationProvider",function(e,n){e.when("/content/:group/blocks/:blockname/chapter/:chaptername",{templateUrl:"templates/newContent.html",controller:"MainContentCtrl",resolve:{dataBlock:["navigate","dataFetcher","$route",function(e,n,t){if(!e.getData()||e.getGroup()!=t.current.params.group)return n.get(t.current.params.group).$promise.then(function(n){return e.setData(n,t.current.params.group),n})}]}}).when("/content/:group/blocks/:blockname",{template:"",controller:"ContentRedirecter",resolve:{dataBlock:["navigate","dataFetcher","$route",function(e,n,t){return n.get(t.current.params.group).$promise.then(function(n){return e.setData(n,t.current.params.group),n})}]}}).when("/content/:group",{template:"",controller:"ContentRedirecter",resolve:{dataBlock:["navigate","dataFetcher","$route",function(e,n,t){return n.get(t.current.params.group).$promise.then(function(n){return e.setData(n,t.current.params.group),n})}]}}).when("/admin",{templateUrl:"templates/adminHome.html",controller:"AdminController",resolve:{dataBlock:function(){}}}).when("/admin/:group",{templateUrl:"templates/adminEditor.html",controller:"AdminController",resolve:{dataBlock:["navigate","dataFetcher","$route",function(e,n,t){return n.get(t.current.params.group).$promise.then(function(n){return e.setData(n,t.current.params.group),n})}]}}).when("/admini/:group",{templateUrl:"templates/admin/adminHome.html",controller:"AdminInterfaceController",resolve:{dataBlock:["navigate","dataFetcher","$route",function(e,n,t){return n.get(t.current.params.group).$promise.then(function(e){return e})}]}}).when("/:group/search",{templateUrl:"templates/searchResults.html",controller:"searchController",resolve:{query:["$location",function(e){return e.search()}],dataBlock:["navigate","dataFetcher","$route",function(e,n,t){return e.getData()&&e.getGroup()==t.current.params.group?e.getData():n.get(t.current.params.group).$promise.then(function(n){return e.setData(n,t.current.params.group),n})}]}}).when("/404",{templateUrl:"templates/404.html"}).when("/",{templateUrl:"templates/mainmenu.html",controller:"MainMenuController"}).otherwise({}),n.html5Mode(!0)}]),t(3)(o),t(5)(o),t(7)(o),t(8)(o),t(9)(o),t(10)(o),t(11)(o),t(12)(o),t(14)(o),t(15)(o),t(16)(o),t(17)(o),t(18)(o),t(19)(o),t(20)(o),t(21)(o),t(22)(o),t(24)(o),t(26)(o),t(28)(o),t(30)(o),t(32)(o),t(34)(o),t(36)(o),t(38)(o),t(40)(o),t(42)(o),t(43)(o),t(45)(o),t(46)(o),t(47)(o),t(49)(o),t(51)(o),t(53)(o),t(55)(o),t(57)(o),t(59)(o),t(61)(o),t(63)(o),t(65)(o),t(67)(o),t(69)(o)},function(e,n,t){"use strict";e.exports=function(e){e.directive("textParagraph",["$timeout",function(e){return{restrict:"E",scope:{component:"="},template:t(4),link:function(n,t){e(function(){if(n.component.hasOwnProperty("links"))for(var e=0;e<n.component.links.length;e++){var o=new RegExp(n.component.links[e].portion,"gi");$(t).find("p").html(function(){return n.component.text.replace(o,'<span class="fa fa-globe"></span><a class="website-link" target="_blank" href="'+n.component.links[e].href+'">'+n.component.links[e].portion+"</a>")})}},0)}}}])}},function(e,n){e.exports='<h5 ng-show="component.subtitle">{{component.subtitle}}</h5>\r\n<p class="card-text mb-3 " ng-class="{\'obvious-text\': component.embolden}">\r\n    {{component.text}}\r\n</p>\r\n'},function(e,n,t){"use strict";e.exports=function(e){e.controller("AdminInterfaceController",["$scope","dataBlock","$timeout","$uibModal",function(e,n,o,a){function r(e){c(e)}function i(n){switch(n.message){case"Block":e.data.splice(n.index,0,n.object);break;case"Chapter":e.data[n.parentIndex].chapters.splice(n.index,0,n.object);break;case"Section":n.chapter.sections.splice(n.index,0,n.object),e.selChapter===n.chapter&&e.$broadcast("dataWasLoaded",e.selChapter.sections);break;case"Component":n.section.components.splice(n.index,0,n.object)}}function s(n){if("Block"!==n.message)if("Chapter"!==n.message){if("Section"===n.message){n.chapter.pop()}}else{e.data[n.index].chapters.pop()}else{e.data.pop()}}function c(n){if("up"===n.direction)var t=-1;else var t=1;var o=n.index;if(!n.hasOwnProperty("index")||void 0!==n.index)if("Block"===n.message){var a=e.data[o];e.data[o]=e.data[o+t],e.data[o+t]=a}else if("Chapter"===n.message){var r=e.data[n.parentIndex],i=r.chapters[o];r.chapters[o]=r.chapters[o+t],r.chapters[o+t]=i}else if("Section"===n.message){var s=e.selChapter.sections,c=s[o];s[o]=s[o+t],s[o+t]=c}else if("Component"===n.message){var l=e.selChapter.sections[n.parentIndex].components,p=l[o];l[o]=l[o+t],l[o+t]=p}}var l=function(){function n(n){return{blockname:e.data[n].name,name:"New Chapter "+ ++r,sections:[]}}function t(){return{name:"New Block "+ ++i,chapters:[{blockname:"New Block "+i,name:"Introduction",sections:[]}]}}function o(){return{subtitle:"New Section "+ ++a,space_after:!1,components:[]}}var a=0,r=0,i=0;return{makeChapter:n,makeBlock:t,makeSection:o}}();e.resolveUndo=function(n){for(var t=0;t<=n;t++)e.undoItems[t].callback.apply(this,e.undoItems[t].args);e.undoItems.splice(0,n+1)},e.data=n,e.undoMode=!1,e.undoItems=[],e.selBlock=n[0],e.selChapter=n[0].chapters[0];var p=angular.element(document.getElementById("mainContent2"));o(function(){e.$broadcast("dataWasLoaded",e.selChapter.sections)},0),e.addBlock=function(){var n=l.makeBlock();if(a){a.open({template:t(0),controller:"ArrayAddModalCtrl",animation:!1,windowClass:"my-modal",backdrop:"static",resolve:{item:function(){return{newSection:n,message:"Block"}}}}).result.then(function(t){var o={};o.event="add",o.title=[["Block",n.name]],o.summary="Block has been added.",o.callback=s,o.args=[{message:"Block"}],e.undoItems.unshift(o),e.data.push(n)},function(e){})}},e.addChapter=function(n){var o=l.makeChapter(n),r=e.data[n].name;if(a){a.open({template:t(0),controller:"ArrayAddModalCtrl",animation:!1,windowClass:"my-modal",backdrop:"static",resolve:{item:function(){return{newChapter:o,message:"Chapter",sectionName:r}}}}).result.then(function(t){var a={};a.event="add",a.title=[["Block",r],["Chapter",o.name]],a.summary="Chapter "+o.name+" has been added in block "+r,a.callback=s,a.args=[{message:"Chapter",index:n}],e.undoItems.unshift(a),e.data[n].chapters.push(o)},function(e){})}},e.addSection=function(){var n=l.makeSection();if(a){a.open({template:t(0),controller:"ArrayAddModalCtrl",animation:!1,windowClass:"my-modal",backdrop:"static",resolve:{item:function(){return{newSection:n,message:"Section"}}}}).result.then(function(t){var o={};o.event="add",o.title=[["Block",e.selBlock.name],["Chapter",e.selChapter.name],["Section",n.subtitle]],o.summary="Section "+n.subtitle+" has been added",o.callback=s,o.args=[{message:"Section",chapter:e.selChapter.sections}],e.undoItems.unshift(o),e.selChapter.sections.push(n)},function(e){})}},e.$on("move",function(n,t){n.preventDefault();var o=void 0;switch(t.message){case"Chapter":o=[["Block",e.data[t.parentIndex].name],["Chapter",e.data[t.parentIndex].chapters[t.index].name]];break;case"Block":o=[["Block",e.data[t.index].name]];break;case"Section":o=[["Block",e.selBlock.name],["Chapter",e.selChapter.name],["Section",e.selChapter.sections[t.index].subtitle]];break;case"Component":o=[["Block",e.selBlock.name],["Chapter",e.selChapter.name],["Section",e.selChapter.sections[t.parentIndex].subtitle],["Type",e.selChapter.sections[t.parentIndex].components[t.index].type]]}var a=t.message+" has been moved "+t.direction+"wards.",i=t;"up"===t.direction?(i.direction="down",i.index=t.index-1):(i.direction="up",i.index=t.index+1);var s={title:o,summary:a,event:"move",callback:r,args:[i]};c(t),e.undoItems.unshift(s)}),e.$on("ChangeChapter",function(t,o,a){if(t.preventDefault(),t.stopPropagation(),void 0===o&&void 0===a)return e.selChapter=void 0,void e.$broadcast("dataWasLoaded");e.selBlock=n[o],e.selChapter=n[o].chapters[a],e.$broadcast("dataWasLoaded",e.selChapter.sections),p[0].scrollTop=0}),e.$on("ifsPrepareScroll",function(e,n){e.preventDefault(),e.stopPropagation();var t=n[0],o=angular.element(document.getElementById(t));p.scrollToElement(o,50,120)}),e.$on("deleteFromArray",function(n,o){n.preventDefault(),n.stopPropagation();var r={};switch(o.message){case"Block":r.block=e.data[o.index].name;break;case"Chapter":r.block=e.data[o.parentIndex].name,r.chapter=e.data[o.parentIndex].chapters[o.index].name;break;case"Section":r.block=e.selBlock.name,r.chapter=e.selChapter.name,r.section=e.selChapter.sections[o.index].subtitle;break;case"Component":r.block=e.selBlock.name,r.chapter=e.selChapter.name,r.section=e.selChapter.sections[o.parentIndex].subtitle,r.type=e.selChapter.sections[o.parentIndex].components[o.index].type}if(a){a.open({template:t(6),controller:"ArrayDeleteModalCtrl",animation:!1,windowClass:"my-modal",backdrop:"static",resolve:{item:r}}).result.then(function(n){var t=!1,a={};if(a.event="delete",a.summary=o.message+" has been deleted.","Block"===o.message)e.selBlock===e.data[o.index]&&(t=!0),o.object=e.data[o.index],a.title=[["Block",o.object.name]],e.data.splice(o.index,1);else if("Chapter"===o.message){if(e.data[o.parentIndex].chapters.length<2)return void alert("You must have at least 1 chapter");e.selChapter===e.data[o.parentIndex].chapters[o.index]&&(t=!0),o.object=e.data[o.parentIndex].chapters[o.index],a.title=[["Block",e.data[o.parentIndex].name],["Chapter",o.object.name]],e.data[o.parentIndex].chapters.splice(o.index,1)}else"Section"===o.message?(o.object=e.selChapter.sections[o.index],o.chapter=e.selChapter,a.title=[["Block",e.selBlock.name],["Chapter",e.selChapter.name],["Section",e.selChapter.sections[o.index].subtitle]],e.selChapter.sections.splice(o.index,1),e.$broadcast("dataWasLoaded",e.selChapter.sections)):"Component"===o.message&&(o.object=e.selChapter.sections[o.parentIndex].components[o.index],o.section=e.selChapter.sections[o.parentIndex],a.title=[["Block",e.selBlock.name],["Chapter",e.selChapter.name],["Section",e.selChapter.sections[o.parentIndex].subtitle],["Type",o.object.type]],e.selChapter.sections[o.parentIndex].components.splice(o.index,1));t&&e.$emit("ChangeChapter"),a.callback=i,a.args=[o],e.undoItems.unshift(a)},function(e){})}}),e.undoToggle=function(){e.undoMode=!e.undoMode}}])}},function(e,n){e.exports='<div class="card">\r\n    <div class="card-header">\r\n        <span class="float-right fa fa-close fa-2x" style="color: blue;cursor:pointer" ng-click="dismissModal()"></span>\r\n        <h3 class="" style="line-height: 2.3rem">Are you sure?</h3>\r\n\r\n    </div>\r\n    <div class="card-body text-center">\r\n        <p>Are you sure you want to delete ? </p>\r\n        <p><span class="font-weight-bold" ng-show="item.block">Block: </span> {{item.block}}</p>\r\n        <p><span class="font-weight-bold" ng-show="item.chapter">Chapter: </span> {{item.chapter}}</p>\r\n        <p><span class="font-weight-bold" ng-show="item.section">Section: </span> {{item.section}}</p>\r\n        <p><span class="font-weight-bold" ng-show="item.type">Component: </span> {{item.type}}</p>\r\n\r\n    </div>\r\n    <div class="card-footer text-center">\r\n        <div class="btn-group ">\r\n            <button class="btn btn-success" ng-click="dismissModal()"> No </button>\r\n            <div class="mx-2"></div>\r\n            <button class="btn btn-warning" ng-click="closeModal()"> Yes</button>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.controller("AdminController",["$scope","dataBlock","$location","navigate","$timeout","dataFetcher",function(e,n,t,o,a,r){if(e.selected="",e.step=0,e.chapter=null,n){var i=n;e.data=angular.copy(i),e.group=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)}(o.getGroup())}e.saveChanges=function(){r.post(e.group,e.data).$promise.then(function(e){}).catch(function(e){})},e.selectGroup=function(e){t.path("/admini/"+e)},e.editBlock=function(n){e.selected!==n?e.selected=n:e.selected=null},e.addBlock=function(){e.data.push({name:"Edit this block",introcontent:{},chapters:[]})},e.editChapter=function(n,t){e.chapter=-1===n?e.data[t].introcontent:e.data[t].chapters[n],e.step=1,e.$broadcast("prepareFields")},e.addChapter=function(n){e.data[n].chapters.push({blockname:e.data[n].name,name:"Edit this chapter",sections:[]})},e.deleteChapter=function(n,t,o){o.stopPropagation(),o.preventDefault(),e.data[t].chapters.splice(n,1)},e.goBack=function(){e.chapter=null,e.data=angular.copy(i),e.step=0,e.$broadcast("deleteSelectors"),a(function(){s("adminEditor")},50)},e.submit=function(){i=e.data,e.data=angular.copy(i),e.goBack()};var s=function(e){var n=angular.element(document.getElementById(e));angular.element(document.getElementById("mainContent")).scrollToElement(n,0,50)}}])}},function(e,n,t){"use strict";e.exports=function(e){e.controller("ArrayDeleteModalCtrl",["$scope","$uibModalInstance","item",function(e,n,t){e.item=t,e.closeModal=function(){n.close({val:!0})},e.dismissModal=function(){n.dismiss("Modal dismissed")}}])}},function(e,n,t){"use strict";e.exports=function(e){e.controller("ArrayAddModalCtrl",["$scope","$uibModalInstance","item",function(e,n,t){"Block"===t.message?e.newElement=t.newSection:"Chapter"===t.message?(e.newElement=t.newChapter,e.sectionName=t.sectionName):"Section"===t.message&&(e.newElement=t.newSection),e.message=t.message,e.closeModal=function(e){e.$valid&&n.close({val:!0})},e.dismissModal=function(){n.dismiss("Modal dismissed")}}])}},function(e,n,t){"use strict";e.exports=function(e){e.controller("ContentRedirecter",["$scope","dataBlock","$location","navigate","$routeParams",function(e,n,t,o,a){var r=t.path();if(r.includes("/blocks/")){var i=n.find(function(e){return e.name===a.blockname});t.path(r+"/chapter/"+i.chapters[0].name).replace()}else t.path(r+"/blocks/"+n[0].name+"/chapter/"+n[0].chapters[0].name).replace()}])}},function(e,n,t){"use strict";e.exports=function(e){e.controller("MainContentCtrl",["$scope","$routeParams","navigate","dataBlock","$location","$timeout",function(e,n,t,o,a,r){function i(e,n){var t=n[0],o=angular.element(document.getElementById(t));angular.element(document.getElementById("mainContent")).scrollToElement(o,50,120)}e.data={};var s=angular.element(document.getElementById("mainContent"));t.urlIsValid(n)||t.errorPage();var c=t.getDataBlock();e.$emit("$dataWasLoaded",c[0]),e.data=c[0],e.index=c[1],e.blockLength=t.getBlockLength(),a.hash()?r(function(){i(null,[a.hash()])},200):s.scrollTop(0,0),e.$on("ifsScrollTo",i)}])}},function(e,n,t){"use strict";e.exports=function(e){e.controller("MainMenuController",["$scope","$location",function(e,n){var o=new Image,a=new Image,r=new Image;o.src="/assets/css/images/StudentsOver.png",a.src="/assets/css/images/EducatorsOver.png",r.src="/assets/css/images/StaffOver.png",e.selectGroup=function(e){n.url("/content/"+e+"/")},$("#mainContent").scrollTop(0),e.videoComp={type:"video-single",subtitle:"The Successful Placement App Introduction",video:{type:"helix",src:"https://media.coventry.ac.uk/player?autostart=n&fullscreen=n&width=0&height=0&videoId=21122&quality=hi&captions=n&chapterId=0",thumb:"successful_placement.jpg"}},e.quoteComp={subtitle:"",type:"text-quote",text:"Student nurses value a welcoming workplace where staff and educators are happy to help and have a positive attitude to student presence on the wards",author:"Doyle et al ",year:"2017"},e.contactDetails={subtitle:"Contact Details",components:[{subtitle:"Telephone",type:"link-telephone",text:"+44 (0)24 7765 8029",space_after:!1},{subtitle:"E-mails",type:"link-email",links:[{tag:"Disability Team",text:"disabilityadvisor.ss@coventry.ac.uk",link:"mailto:disabilityadvisor.ss@coventry.ac.uk"},{tag:"Mental health Team",text:"counsell.ss@coventry.ac.uk",link:"mailto:counsell.ss@coventry.ac.uk"}],space_after:!1}],space_after:!1};bodymovin.loadAnimation({container:document.getElementById("bm"),loop:!0,renderer:"svg",autoplay:!0,animationData:t(13)});$(".carousel").carousel({autoplay:!0,interval:4500});angular.element(document.getElementById("mainContent")),angular.element(document.getElementsByClassName("home-container")),angular.element(document.getElementById("bm"))}])}},function(e,n,t){"use strict";e.exports={v:"4.11.0",fr:25,ip:0,op:31,w:2027,h:500,nm:"MainMIN",ddd:0,assets:[{id:"image_0",w:326,h:118,u:"images/",p:"img_0.png"},{id:"image_1",w:260,h:53,u:"images/",p:"img_1.png"},{id:"image_2",w:2e3,h:543,u:"images/",p:"img_2.png"},{id:"image_3",w:31,h:86,u:"images/",p:"img_3.png"},{id:"image_4",w:26,h:87,u:"images/",p:"img_4.png"},{id:"comp_10",layers:[{ddd:0,ind:1,ty:2,nm:"SUPPORT",refId:"image_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[4113.5,921.5,0],ix:2},a:{a:0,k:[163,59,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,ip:0,op:150,st:0,bm:0},{ddd:0,ind:2,ty:2,nm:"for Students on Placement",refId:"image_1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},n:["0p667_1_0p333_0"],t:0,s:[4],e:[-2]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},n:["0p667_1_0p333_0"],t:15,s:[-2],e:[4]},{t:31}],ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},n:"0p667_1_0p333_0",t:0,s:[4198.5,1006.5,0],e:[4233,1003,0],to:[5.75,-.58333331346512,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},n:"0p667_1_0p333_0",t:15,s:[4233,1003,0],e:[4198.5,1006.5,0],to:[0,0,0],ti:[5.75,-.58333331346512,0]},{t:31}],ix:2},a:{a:0,k:[251.415,22.974,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,ip:0,op:150,st:0,bm:0},{ddd:0,ind:3,ty:2,nm:"main",refId:"image_2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[4040,1105,0],ix:2},a:{a:0,k:[1e3,271.5,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,ip:0,op:150,st:0,bm:0},{ddd:0,ind:4,ty:2,nm:"string R",refId:"image_3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},n:["0p667_1_0p333_0"],t:0,s:[5],e:[-30]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},n:["0p667_1_0p333_0"],t:15,s:[-30],e:[5]},{t:31}],ix:10},p:{a:0,k:[4199.237,943.442,0],ix:2},a:{a:0,k:[25.179,1.625,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,ip:0,op:150,st:0,bm:0},{ddd:0,ind:5,ty:2,nm:"string L",refId:"image_4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},n:["0p667_1_0p333_0"],t:0,s:[21],e:[-7]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},n:["0p667_1_0p333_0"],t:15,s:[-7],e:[21]},{t:31}],ix:10},p:{a:0,k:[3991.682,929.247,0],ix:2},a:{a:0,k:[7.507,6.933,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,ip:0,op:150,st:0,bm:0}]}],layers:[{ddd:0,ind:1,ty:0,nm:"Small All",refId:"comp_10",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[1029.5,2992,0],ix:2},a:{a:0,k:[4054,3784,0],ix:1},s:{a:0,k:[102,102,100],ix:6}},ao:0,w:8108,h:7568,ip:0,op:150,st:0,bm:0}]}},function(e,n,t){"use strict";e.exports=function(e){e.controller("searchController",["$scope","query","navigate","$routeParams","dataBlock","$filter","$location",function(e,n,t,o,a,r,i){e.group=o.group,e.data=a,e.query=n.query,e.resultCount=0,e.blocks=[];var s,c=angular.element(document.getElementById("mainContent"));if(c.scrollTop(0),e.scrollTop=function(){c.scrollTop(0)},e.scrollTo=function(e){var n=r("nospaces")(e),t=angular.element(document.getElementById(n.toLowerCase()));c.scrollToElement(t,50,120)},e.goTo=function(n,t,o){var a=o?r("nospaces")(o).toLowerCase():void 0,s=r("nospaces")(n,"-"),c=r("nospaces")(t,"-");a?i.url("content/"+e.group+"/blocks/"+s+"/chapter/"+c+"#"+a):i.url("content/"+e.group+"/blocks/"+s+"/chapter/"+c)},e.data&&e.query){var l={keys:["subtitle","components.text","components.list_elements.text","components.links.text","components.subtitle","components.title","components.publisher","components.authors.name"],threshold:e.query.length>7?.2:e.query.length>5?.1:.05,distance:800,minMatchCharLength:n.query.length>7?n.query.length-2:n.query.length>4?n.query.length-1:n.query.length,sort:!0,includeMatches:!0,includeScore:!0};s=[],e.data.forEach(function(t){t.chapters.forEach(function(o){var a=new Fuse(o.sections,l),r=a.search(n.query);if(r.length>0)for(var i=0;i<r.length;i++)r[i].matches.forEach(function(n){if(!s.includes(n.value.trim())){switch(n.key){case"subtitle":e.resultCount++,e.blocks.some(function(e){return e.name===t.name&&(e.count++,e.matches.sections.push({ref:r[i].item.subtitle,search:n,block:t.name,chapter:o.name,score:r[i].score}),!0)})||e.blocks.push({name:t.name,count:1,matches:{sections:[{ref:r[i].item.subtitle,search:n,block:t.name,chapter:o.name,score:r[i].score}],components:[],"external links":[],documents:[]}});break;case"components.text":case"components.list_elements.text":case"components.subtitle":case"components.links.text":case"components.title":case"components.publisher":case"components.authors.name":e.resultCount++,e.blocks.some(function(e){if(e.name===t.name){e.count++;var a=Math.round(100-r[i].score/.2*100);return e.matches.components.push({ref:r[i].item.subtitle||"",key:n.key,search:n,block:t.name,chapter:o.name,score:r[i].score,relevance:a}),a>e.maxRelevance&&(e.maxRelevance=a),!0}return!1})||e.blocks.push({name:t.name,count:1,matches:{sections:[],components:[{ref:r[i].item.subtitle,key:n.key,search:n,block:t.name,chapter:o.name,score:r[i].score,relevance:Math.round(100-r[i].score/.2*100),indices:n.indices}],"external links":[],documents:[]},maxRelevance:Math.round(100-r[i].score/.2*100)})}s.push(n.value.trim())}})})}),e.blocks.sort(function(e,n){return n.maxRelevance-e.maxRelevance})}}])}},function(e,n,t){"use strict";e.exports=function(e){e.controller("TestCtrl",["$scope","dataFetcher","navigate","$routeParams","$location","$timeout",function(e,n,t,o,a,r){e.home=!0,e.$on("$locationChangeSuccess",function(n,t){"/"!==a.path()?e.home=!1:e.home=!0,a.path().indexOf("search")>-1?e.searchState=!0:e.searchState=!1}),e.$watch(function(){return o.hasOwnProperty("group")&&a.path().indexOf("content")>-1},function(n){n&&"undefined"!==n?(e.inContentState=!0,e.data=t.getData(),e.$watch(function(){return t.lowEnd()},function(n,t){e.lowEnd=n}),e.$watch(function(){return t.highEnd()},function(n,t){e.highEnd=n})):e.inContentState=!1}),e.$watch(function(){return a.path().indexOf("admini")>-1},function(n){e.adminState=!!n}),e.$on("$dataWasLoaded",function(n,t){a.path().indexOf("content")>-1&&r(function(){var n=$(window).height(),t=document.getElementById("mainContent").scrollHeight;e.heightBiggerThanWindow=t>n},0),e.$broadcast("dataWasLoaded",t)}),e.$on("ifsPrepareScroll",function(n,t){e.$broadcast("ifsScrollTo",t)}),e.lowEnd=!0,e.highEnd=!1,e.goToPrevious=function(){t.goToPrevious()},e.goToNext=function(){t.goToNext()},e.dataCopy=angular.copy(e.data),e.addElem=function(){e.data.push({name:"Edit this block",chapters:[{name:"Introduction",sections:[]}]})},e.submitSearch=function(e,n){if(!n.$invalid){var o=t.getGroup();a.search({query:e}),a.hash([]),a.path("/"+o+"/search")}},e.resetSearch=function(){e.searchTerm=""}}])}},function(e,n,t){"use strict";e.exports=function(e){e.factory("dataFetcher",["$resource","$cacheFactory",function(e,n){var t=e("/data/:source",{source:"@source"},{query:{method:"GET",cache:!0,isArray:!0}});return{get:function(e){n.get("$http");return t.query({source:e,cache:!0})},post:function(e,n){return t.save({source:e},n)}}}])}},function(e,n,t){"use strict";e.exports=function(e){e.factory("navigate",["$location","$filter",function(e,n){var t,o,a,r,i="/";return{urlIsValid:function(e){if(o=e.group,e.hasOwnProperty("chaptername")){var i=n("tospaces")(e.blockname,"-"),s=n("tospaces")(e.chaptername,"-");return a=t.findIndex(function(e){return e.name===i}),a>-1&&(r=t[a].chapters.findIndex(function(e){return e.name===s})),!(-1===a||-1===r)}if(e.hasOwnProperty("blockname")){var i=e.blockname;return a=t.findIndex(function(e){return e.name===i}),r=-1,-1!==a}return!1},errorPage:function(){a=-1,r=-1,e.path("/404")},setData:function(e,n){t=e,o=n,a=0,r=-1},getData:function(){return t},getGroup:function(){return o},goTo:function(n,t){t?e.url("/content/"+o+"/blocks/"+n+"/chapter/"+t):e.url("/content/"+o+"/blocks/"+n)},lowEnd:function(){return 0===a&&r<=0||-1===a&&-1===r},highEnd:function(){return a===t.length-1&&r===t[t.length-1].chapters.length-1||-1===a},goToNext:function(){var s,c;-1===r?(s=t[a].name,c=t[a].chapters[r+1].name,e.url("/content/"+o+"/blocks/"+n("nospaces")(s,"-")+"/chapter/"+n("nospaces")(c,"-")),i="/blocks/"+n("nospaces")(s,"-")+"/chapter/"+n("nospaces")(c,"-")):r<t[a].chapters.length-1?(s=t[a].name,c=t[a].chapters[r+1].name,e.url("/content/"+o+"/blocks/"+n("nospaces")(s,"-")+"/chapter/"+n("nospaces")(c,"-")),i="/blocks/"+n("nospaces")(s,"-")+"/chapter/"+n("nospaces")(c,"-")):r===t[a].chapters.length-1&&(s=t[a+1].name,c=t[a+1].chapters[0].name,e.url("/content/"+o+"/blocks/"+n("nospaces")(s,"-")+"/chapter/"+n("nospaces")(c,"-")),i="/blocks/"+n("nospaces")(s,"-")+"/chapter/"+n("nospaces")(c,"-"))},goToPrevious:function(){var i,s;r>0?(r--,i=t[a].name,s=t[a].chapters[r].name,e.url("/content/"+o+"/blocks/"+n("nospaces")(i,"-")+"/chapter/"+n("nospaces")(s,"-"))):(a--,i=t[a].name,r=t[a].chapters.length-1,s=t[a].chapters[r].name,e.url("/content/"+o+"/blocks/"+n("nospaces")(i,"-")+"/chapter/"+n("nospaces")(s,"-")))},getDataBlock:function(e,n){return r>-1?[t[a].chapters[r],r]:[t[a],a]},getDataLength:function(){return t.length},getBlockLength:function(){return t[a].chapters.length}}}])}},function(e,n,t){"use strict";e.exports=function(e){e.filter("capitalize",[function(){return function(e){return e[0].toUpperCase()+e.slice(1)}}])}},function(e,n,t){"use strict";e.exports=function(e){e.filter("nospaces",function(){return function(e,n){var t=n||"";if(e)return e.replace(/\s/g,t)}}),e.filter("tospaces",function(){return function(e,n){var t=new RegExp(n,"gi");if(e)return e.replace(t," ")}})}},function(e,n,t){"use strict";e.exports=function(e){e.filter("singular",function(){return function(e){return e.slice(0,e.length-1)}})}},function(e,n,t){"use strict";e.exports=function(e){e.directive("chapterSummaryAdmin",function(){return{restrict:"E",scope:{},template:t(1),link:function(e,n,t,o){},controller:["$scope","navigate","$location","$timeout",function(e,n,t,o){e.titles=[],e.$on("dataWasLoaded",function(n,t){if(!t)return void(e.titles=[]);e.titles=[];for(var o=0;o<t.length;o++)e.titles.push(t[o].subtitle)}),e.scrollTo=function(n,t){t.stopPropagation(),t.preventDefault();var o=n.replace(/\s/g,"").toLowerCase();e.$emit("ifsPrepareScroll",[o])}}]}})}},function(e,n,t){"use strict";e.exports=function(e){e.directive("navMenuAdmin",function(){return{template:t(23),restrict:"E",link:function(e,n){},controller:["$scope",function(e){!function(){function n(n){return{blockname:e.data[n].name,name:"New Chapter "+ ++a,sections:[]}}function t(){return{name:"New Section "+ ++o,chapters:[{blockname:"New Section "+o,name:"Introduction",sections:[]}]}}var o=0,a=0}();e.selected=e.data[0].name,e.chSelected=e.data[0].name+"-"+e.data[0].chapters[0].name,e.select=function(n,t){t.preventDefault(),t.stopPropagation(),e.selected=e.data[n].name,e.chSelected=e.data[n].name+"-"+e.data[n].chapters[0].name,e.$emit("ChangeChapter",n,0)},e.selectChapter=function(n,t,o){o.preventDefault(),o.stopPropagation(),e.selected=e.data[n].name,e.chSelected=e.data[n].name+"-"+e.data[n].chapters[t].name,e.$emit("ChangeChapter",n,t)}}]}})}},function(e,n){e.exports='<nav class="navbar-nav navbar-light navbar-expand-md main-navigation border border-danger" >\r\n    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#rsSidebar" aria-controls="rsSidebar" aria-expanded="false" aria-label="Toggle navigation">\r\n        <span class="navbar-toggler-icon"></span>\r\n    </button>\r\n    <div class="navbar-collapse collapse" id="rsSidebar">\r\n        <ul class="nav rs-sidebar flex-column flex-nowrap" ifs-extendable ifs-extendable-callback="addBlock()" ifs-extendable-title="Add New Block" data-classes="nav-item">\r\n            <li class="nav-item blah blah-again" ng-repeat="block in data" ng-class="{active: selected===block.name}" ifs-editable="Block">\r\n                <a href="" class="nav-link block-link small " ng-click="select($index,$event)">{{block.name}}</a>\r\n                <ul class=" nav rs-sub flex-column flex-nowrap" ng-show="selected===block.name" ifs-extendable ifs-extendable-callback="addChapter($index)" ifs-extendable-title="Add New Chapter" data-classes="nav-item">\r\n                    <li class="nav-item border border-success" ifs-editable="Chapter"  ng-repeat="chapter in block.chapters" ng-class="{\'sub-active\':chSelected === (block.name+\'-\'+chapter.name)}" >\r\n                        <a href="" class="nav-link chapter-link h-100 small border border-primary"  ng-click="selectChapter($parent.$index,$index,$event)">{{chapter.name}}</a>\r\n                    </li>\r\n\r\n                </ul>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</nav>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("undoList",["$compile","$timeout",function(e,n){return{restrict:"E",template:t(25),link:function(e,t,o){e.$watch("undoMode",function(e){e&&n(function(){$(t).find(".undo-panel")[0].scrollTop=0},0)}),e.$watchCollection("undoItems",function(e,n){if(e.length>n.length){for(var o="",a=0;a<e[0].title.length;a++)o+='<p><span class="text-dark font-weight-bold">'+e[0].title[a][0]+":</span> "+e[0].title[a][1]+"</p>";var r=$(t).find(".undo-list-item").first(),i=$(r).find(".undo-list-item-title").first(),s=$(t).find(".undo-item-icon span").first(),c=$(r).find(".undo-item-summary").first();switch(e[0].event){case"move":s.addClass("fa-exchange"),r.addClass("move");break;case"delete":s.addClass("fa-trash"),r.addClass("delete");break;case"add":s.addClass("fa-plus"),r.addClass("add")}i.html(o),c.html(e[0].summary)}}),$(t).on("click",function(e){e.preventDefault(),e.stopPropagation()})},controller:["$scope",function(e){}]}}])}},function(e,n){e.exports='<div class="undo-panel text-center">\r\n    <div class="undo-list">\r\n        <div class="undo-list-item" ng-repeat="item in undoItems">\r\n            <div class="undo-item-icon">\r\n                <span class="fa"></span>\r\n            </div>\r\n            <div class="undo-text">\r\n                <h5 class="undo-list-item-title"></h5>\r\n                <p class="undo-item-summary"></p>\r\n            </div>\r\n\r\n            <button class="btn btn-warning undo-action" ng-click="resolveUndo($index)">UNDO</button>\r\n        </div>\r\n    </div>\r\n    <div ng-if="!undoItems || undoItems.length==0">\r\n        No actions have been performed yet.\r\n    </div>\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("linkPdf",["$timeout",function(e){return{restrict:"E",scope:{component:"=",compindex:"="},template:t(27),link:function(e,n,t,o){},controller:["$scope",function(n){n.addLink=function(t){n.component.hasOwnProperty("links")?(n.component.links.splice(t+1,0,{}),e(function(){var e=angular.element(document.getElementById(n.compindex+"linkField"+(t+1)));angular.element(document.getElementById("mainContent")).scrollToElement(e,80,70)},100)):n.component.links=[{}]},n.removeLink=function(e){n.component.links.splice(e,1)}}]}}])}},function(e,n){e.exports='<div class="form-group">\r\n\r\n    <label for="{{compindex+\'straightlink\'}}">Straight Link: </label>\r\n    <fieldset id="{{compindex+\'straightlink\'}}" class="my-4">\r\n        <label for="{{compindex+\'straightlinklink\'}}">Link: </label>\r\n        <input id="{{compindex+\'straightlinklink\'}}" class="form-control w-50" ng-model="component.straightlink.link">\r\n\r\n        <label for="{{compindex+\'straightlinktext\'}}">Tag: </label>\r\n        <input id="{{compindex+\'straightlinktext\'}}" class="form-control w-50" ng-model="component.straightlink.text">\r\n\r\n        <label for="{{compindex+\'straightlinktag\'}}">Tag: </label>\r\n        <input id="{{compindex+\'straightlinktag\'}}" class="form-control w-50" ng-model="component.straightlink.tag">\r\n    </fieldset>\r\n</div>\r\n<div class="form-group row">\r\n    <span   class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >Links: </span>\r\n    <div class="space col-1"></div>\r\n    <div class="col-5">\r\n        <div ng-if="!component.links ||component.links.length<=0">\r\n            <span class="fa fa-plus-circle float-left px-2" ng-click="addLink(-1)"></span>\r\n            <span>Add a Link</span>\r\n        </div>\r\n        <div class="mb-4" ng-repeat="linkField in component.links">\r\n            <pre>{{compindex+\'linkField\'+$index}}</pre>\r\n            <label for="{{compindex+\'linkField\'+$index}}" class=" w-100 d-flex">\r\n                <h6 class="mr-auto">Link {{$index+1}}:</h6>\r\n                <span class="fa fa-plus-circle float-right px-2" title="Add a link right after this one" ng-click="addLink($index)"></span>\r\n                <span class="fa fa-minus-circle float-right px-2" title="Delete this link" ng-click="removeLink($index)"></span>\r\n            </label>\r\n            <hr class="title-separator tier-two">\r\n            <fieldset id="{{compindex+\'linkField\'+$index}}">\r\n                <label for="{{\'linkhref\'+$index}}">Link: </label>\r\n                <input name="" id="{{\'linkhref\'+$index}}"  class="form-control" ng-model="linkField.link">\r\n\r\n                <label for="{{\'linktext\'+$index}}">Text: </label>\r\n                <input name="" id="{{\'linktext\'+$index}}"  class="form-control" ng-model="linkField.text">\r\n\r\n                <label for="{{\'linktag\'+$index}}">Tag: </label>\r\n                <input name="" id="{{\'linktag\'+$index}}" class="form-control" ng-model="linkField.tag">\r\n            </fieldset>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,n,t){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){e.directive("linkReference",["$timeout",function(e){return{restrict:"E",scope:{component:"=",compindex:"="},template:t(29),link:function(e,n,t,o){},controller:["$scope","$filter",function(n,t){function a(e){var t=[];for(var a in e)if(e.propertyIsEnumerable(a)&&"subtitle"!==a&&"type"!==a&&"space_after"!==a&&"$$hashKey"!==a&&(t.push({key:a,type:o(e[a])}),"object"==o(e[a]))){var r=[];for(var i in e[a][0])e[a][0].propertyIsEnumerable(i)&&"$$hashKey"!==i&&r.push({key:i,type:o(e[a][0][i])});n.templates[a]=r}return t}var r={title:"Enter title here",authors:[{name:""}],year:"",publisher:"",volume:"",pages:"",link:""};n.templates={};var i=a(r);n.keys=a(n.component),n.keys.length<1&&(n.keys=i),n.fix=function(e){return t("capitalize")(t("singular")(e))},n.addElem=function(t,o){n.component.hasOwnProperty(o)?(n.component[o].splice(t+1,0,{}),e(function(){var e=angular.element(document.getElementById(n.compindex+"field"+o.toString()+(t+1)));angular.element(document.getElementById("mainContent")).scrollToElement(e,120,300)},100)):n.component[o]=[{}]},n.removeElem=function(e,t){n.component[t].splice(e,1),0==n.component[t].length&&delete n.component[t]}}]}}])}},function(e,n){e.exports='<div ng-repeat="compkey in keys">\r\n    <div class="form-group row" ng-if="compkey.type===\'string\'">\r\n        <label for="{{compindex+\'component\'}}+{{compkey.key+$index}}" class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >{{compkey.key | capitalize}}: </label>\r\n        <div class="space col-1"></div>\r\n        <input class="form-control col-5" type="text" id="{{compindex+\'component\'}}+{{compkey.key+$index}}" ng-model="component[compkey.key]">\r\n    </div>\r\n    <div class="form-group row" ng-if="compkey.type===\'object\'">\r\n        <pre>{{templates[compkey.key] | json}}</pre>\r\n        <span  class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >{{compkey.key | capitalize}}: </span>\r\n        <div class="space col-1"></div>\r\n        <div class="col-5">\r\n            <div ng-if="component[compkey.key].length<=0 || !component[compkey.key]">\r\n                <span class="fa fa-plus-circle float-left px-2" ng-click="addElem(-1,compkey.key)"></span>\r\n                <span>Add New</span>\r\n            </div>\r\n            <div class="mb-4" ng-repeat="field in component[compkey.key]">\r\n                <pre>{{compindex+\'field\'}}{{compkey.key + $index}}</pre>\r\n                <label for="{{compindex+\'field\'}}+{{compkey.key + $index}}" class=" w-100 d-flex">\r\n                    <h6 class="mr-auto" ng-bind="fix(compkey.key)+\' \'+($index+1)+\':\'"></h6>\r\n                    <span class="fa fa-plus-circle float-right px-2" title="Add a {{compkey.key | singular}} right after this one" ng-click="addElem($index,compkey.key)"></span>\r\n                    <span class="fa fa-minus-circle float-right px-2" title="Delete this link" ng-click="removeElem($index,compkey.key)"></span>\r\n                </label>\r\n                <hr class="title-separator tier-two">\r\n                <fieldset id="{{compindex+\'field\'}}{{compkey.key + $index}}">\r\n                    <div ng-repeat="subField in templates[compkey.key]">\r\n                        <div class="form-group row" ng-if="subField.type===\'string\'">\r\n                            <label for="{{compindex+\'component\'}}+{{compkey.key+$index}}" class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >{{subField.key | capitalize}}: </label>\r\n                            <div class="space col-1"></div>\r\n                            <input class="form-control col-5" type="text" id="{{compindex+\'component\'}}+{{compkey.key+$index}}" ng-model="field[subField.key]">\r\n                        </div>\r\n                    </div>\r\n\r\n                </fieldset>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(e,n,t){"use strict";e.exports=function(e){e.directive("linkTelephoneForm",function(){return{restrict:"E",scope:{component:"=",compindex:"="},template:t(31),link:function(e,n,t,o){},controller:["$scope",function(e){}]}})}},function(e,n){e.exports='<div class="form-group row">\r\n    <label for="{{compindex+\'componentlinktel\'+$index}}" class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >Tel Number: </label>\r\n    <div class="space col-1"></div>\r\n    <input class="form-control col-5" type="text" id="{{compindex+\'componentlinktel\'+$index}}" ng-model="component.text"></input>\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("linkWebsite",["$timeout",function(e){return{restrict:"E",scope:{component:"=",compindex:"="},template:t(33),link:function(e,n,t,o){},controller:["$scope",function(n){n.addLink=function(t){n.component.hasOwnProperty("links")?(n.component.links.splice(t+1,0,{}),e(function(){var e=angular.element(document.getElementById(n.compindex+"linkField"+(t+1)));angular.element(document.getElementById("mainContent")).scrollToElement(e,80,70)},100)):n.component.links=[{}]},n.removeLink=function(e){n.component.links.splice(e,1)}}]}}])}},function(e,n){e.exports='<div class="form-group row">\r\n    <span  class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >Links: </span>\r\n    <div class="space col-1"></div>\r\n    <div class="col-5">\r\n        <div ng-if="component.links.length<=0 || !component.links">\r\n            <span class="fa fa-plus-circle float-left px-2" ng-click="addLink(-1)"></span>\r\n            <span>Add a Link</span>\r\n        </div>\r\n        <div class="mb-4" ng-repeat="linkField in component.links">\r\n            <pre>{{compindex+\'linkField\'+$index}}</pre>\r\n            <label for="{{compindex+\'linkField\'+$index}}" class=" w-100 d-flex">\r\n                <h6 class="mr-auto">Link {{$index+1}}:</h6>\r\n                <span class="fa fa-plus-circle float-right px-2" title="Add a link right after this one" ng-click="addLink($index)"></span>\r\n                <span class="fa fa-minus-circle float-right px-2" title="Delete this link" ng-click="removeLink($index)"></span>\r\n            </label>\r\n            <hr class="title-separator tier-two">\r\n            <fieldset id="{{compindex+\'linkField\'+$index}}">\r\n                <label for="{{\'linkhref\'+$index}}">Link: </label>\r\n                <input name="" id="{{\'linkhref\'+$index}}"  class="form-control" ng-model="linkField.link">\r\n\r\n                <label for="{{\'linktext\'+$index}}">Text: </label>\r\n                <input name="" id="{{\'linktext\'+$index}}"  class="form-control" ng-model="linkField.text">\r\n\r\n                <label for="{{\'linktag\'+$index}}">Tag: </label>\r\n                <input name="" id="{{\'linktag\'+$index}}" class="form-control" ng-model="linkField.tag">\r\n            </fieldset>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("listTextForm",["$timeout",function(e){return{restrict:"E",scope:{component:"=",compindex:"="},template:t(35),link:function(e,n){},controller:["$scope",function(n){n.addLinkElement=function(t,o){n.component.list_elements[o].hasOwnProperty("links")?(n.component.list_elements[o].links.splice(t+1,0,{}),e(function(){var e=angular.element(document.getElementById(n.compindex+""+o+"linkElem"+(t+1)));angular.element(document.getElementById("mainContent")).scrollToElement(e,80,50)},100)):n.component.list_elements[o].links=[{}]},n.removeLinkElement=function(e,t){n.component.list_elements[t].links.splice(e,1)},n.addListElement=function(t){n.component.hasOwnProperty("list_elements")?(n.component.list_elements.splice(t+1,0,{}),e(function(){var e=angular.element(document.getElementById(n.compindex+"listElem"+(t+1)));angular.element(document.getElementById("mainContent")).scrollToElement(e,80,50)},100)):n.component.list_elements=[{}]},n.removeListElement=function(e){n.component.list_elements.splice(e,1)}}]}}])}},function(e,n){e.exports='<div class="form-group row">\r\n    <span for="{{\'componenttext\'+$index}}" class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >List: </span>\r\n    <div class="space col-1"></div>\r\n    <div class="col-5">\r\n        <div ng-if="component[\'list_elements\'].length<=0 || !component[\'list_elements\']">\r\n            <span class="fa fa-plus-circle float-left px-2" ng-click="addListElement(-1)"></span>\r\n            <span>Add an element</span>\r\n        </div>\r\n        <div class="mb-4" ng-repeat="listElement in component[\'list_elements\']">\r\n\r\n            <label for="{{compindex+\'listElem\'+$index}}" class=" w-100 d-flex">\r\n                <h6 class="mr-auto">Element {{$index+1}}:</h6>\r\n                <span class="fa fa-plus-circle float-right px-2" title="Add an element right after this one" ng-click="addListElement($index)"></span>\r\n                <span class="fa fa-minus-circle float-right px-2" title="Delete this element" ng-click="removeListElement($index)"></span>\r\n            </label>\r\n            <hr class="title-separator tier-two">\r\n            <fieldset id="{{compindex+\'listElem\'+$index}}">\r\n                <label for="{{compindex+\'text\'+$index}}">Text: </label>\r\n                <textarea name="" id="{{compindex+\'text\'+$index}}" cols="30" rows="5" class="form-control" ng-model="listElement.text"></textarea>\r\n                <div ng-if="listElement.links.length<=0 || !listElement.links">\r\n                    <span class="fa fa-plus-circle float-left px-2" ng-click="addLinkElement(-1,$parent.$index)"></span>\r\n                    <span>Add a link</span>\r\n                </div>\r\n                \x3c!-- Links --\x3e\r\n                <div class="mb-4" ng-repeat="linkElement in listElement.links">\r\n                    <label for="{{compindex+\'\'+$parent.$index+\'linkElem\'+$index}}" class=" w-100 d-flex">\r\n                        <h6 class="mr-auto">Link {{$index+1}}:</h6>\r\n                        <span class="fa fa-plus-circle float-right px-2" title="Add a link right after this one" ng-click="addLinkElement($index,$parent.$index)"></span>\r\n                        <span class="fa fa-minus-circle float-right px-2" title="Delete this link" ng-click="removeLinkElement($index,$parent.$index)"></span>\r\n                    </label>\r\n                    <hr class="title-separator tier-three">\r\n                    <fieldset id="{{compindex+\'\'+$parent.$index+\'linkElem\'+$index}}">\r\n                        <label for="{{compindex+\'linktext\'+$index}}">Portion: </label>\r\n                        <textarea name="" id="{{compindex+\'linktext\'+$index}}" cols="30" rows="2" class="form-control" ng-model="linkElement.portion"></textarea>\r\n                        <label for="{{compindex+\'linkhref\'+$index}}">Href: </label>\r\n                        <input type="text" class="form-control" id="{{compindex+\'linkhref\'+$index}}" ng-model="linkElement.href">\r\n                    </fieldset>\r\n                </div>\r\n                \x3c!-- ------------- --\x3e\r\n            </fieldset>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("textMythfactForm",["$timeout",function(e){return{restrict:"E",scope:{component:"=",compindex:"="},template:t(37),link:function(e,n,t,o){},controller:["$scope",function(n){n.addMyth=function(t){n.component.myths?(n.component.myths.splice(t+1,0,{}),e(function(){var e=angular.element(document.getElementById(n.compindex+"mythField"+(t+1)));angular.element(document.getElementById("mainContent")).scrollToElement(e,80,70)},100)):n.component.myths=[{}]},n.removeMyth=function(e){n.component.myths.splice(e,1)}}]}}])}},function(e,n){e.exports='<div class="form-group row">\r\n    <span  class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >Myths: </span>\r\n    <div class="space col-1"></div>\r\n    <div class="col-5">\r\n        <div ng-if="component.myths.length<=0 || !component.myths">\r\n            <span class="fa fa-plus-circle float-left px-2" ng-click="addMyth(-1)"></span>\r\n            <span>Add a Myth</span>\r\n        </div>\r\n        <div class="mb-4" ng-repeat="mythField in component.myths">\r\n            <pre>{{compindex+\'mythField\'+$index}}</pre>\r\n            <label for="{{compindex+\'mythField\'+$index}}" class=" w-100 d-flex">\r\n                <h6 class="mr-auto">Myth {{$index+1}}:</h6>\r\n                <span class="fa fa-plus-circle float-right px-2" title="Add a myth right after this one" ng-click="addMyth($index)"></span>\r\n                <span class="fa fa-minus-circle float-right px-2" title="Delete this myth" ng-click="removeMyth($index)"></span>\r\n            </label>\r\n            <hr class="title-separator tier-two">\r\n            <fieldset id="{{compindex+\'mythField\'+$index}}">\r\n                <label for="{{\'myth\'+$index}}">Myth: </label>\r\n                <textarea name="" id="{{\'myth\'+$index}}" cols="30" rows="5" class="form-control" ng-model="mythField.myth"></textarea>\r\n                <label for="{{\'fact\'+$index}}">Fact: </label>\r\n                <textarea name="" id="{{\'fact\'+$index}}" cols="30" rows="5" class="form-control" ng-model="mythField.fact"></textarea>\r\n            </fieldset>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("textQuoteForm",function(){return{restrict:"E",scope:{component:"=",compindex:"="},template:t(39),link:function(e,n,t,o){},controller:["$scope",function(e){}]}})}},function(e,n){e.exports='<div class="form-group row">\r\n    <label for="{{\'componenttext\'}}" class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >Text: </label>\r\n    <div class="space col-1"></div>\r\n    <textarea class="form-control col-5" rows="5" cols="40" type="text" id="{{\'componenttext\'}}" ng-model="component.text"></textarea>\r\n</div>\r\n<div class="form-group row">\r\n    <label for="{{compindex+\'componentauthor\'}}" class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >Author: </label>\r\n    <div class="space col-1"></div>\r\n    <input class="form-control col-5" type="text" id="{{compindex+\'componentauthor\'}}" ng-model="component.author"></input>\r\n</div>\r\n<div class="form-group row">\r\n    <label for="{{compindex+\'componentyear\'}}" class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >Year: </label>\r\n    <div class="space col-1"></div>\r\n    <input class="form-control col-5"  type="text" id="{{compindex+\'componentyear\'}}" ng-model="component.year"></input>\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("appForm",["$timeout",function(e){return{restrict:"E",template:t(41),scope:{chapter:"="},link:function(n,t,o,a){var r=function(){var e=t.find(".toggles");e.off(),e.on("click",function(e){e.preventDefault(),e.stopPropagation();var n=$(e.currentTarget).siblings("select");n[0].disabled=!n[0].disabled})};n.$on("prepareFields",function(){e(function(){r()},100)})},controller:["$scope",function(n){n.selected=null,n.typeOptions=["text-paragraph","list-text","text-alert","text-mythfact","text-quote","link-telephone","link-website","link-email","link-pdf","link-reference","video-single"],n.$on("deleteSelectors",function(e){e.preventDefault(),n.componentSelected=null,n.selected=null}),n.selectThis=function(e){n.selected==e?n.selected=null:n.selected=e},n.addNewSection=function(){n.chapter.sections.push({})},n.addNewComponent=function(e){n.chapter.sections[e].hasOwnProperty("components")||(n.chapter.sections[e].components=[]),n.chapter.sections[e].components.push({}),n.$emit("prepareFields")},n.move=function(t,o,a,r){r.preventDefault(),r.stopPropagation(),e(function(){var e=o[a+t];o[a+t]=o[a],o[a]=e,n.$emit("prepareFields")},0)},n.deleteSection=function(e){n.chapter.sections.splice(e,1),n.selected=null},n.setComponentSelected=function(e,t){var o=t.toString()+e.toString();n.componentSelected===o?n.componentSelected=null:n.componentSelected=o},n.deleteComponent=function(e,t){n.chapter.sections[t].components.splice(e,1),n.componentSelected=null}}]}}])}},function(e,n){e.exports='\r\n<form ng-submit="submit()" class="mx-4 my-4" novalidate>\r\n    <div class="form-group row">\r\n        <label for="chaptername" class="col-lg-1 col-2 pl-3"><h4>Title: </h4></label>\r\n        <input class="form-control col-5" type="text" name="title" id="chaptername" ng-model="chapter.name">\r\n    </div>\r\n\r\n    <hr>\r\n\r\n    <h4 class="mt-4">Sections: </h4>\r\n    <hr class="title-underliner">\r\n\r\n    <div ng-repeat="section in chapter.sections">\r\n        \x3c!--\r\n        <pre>{{section | json}}</pre>\r\n        --\x3e\r\n        <div class="card bg-transparent">\r\n            <div class="card-header bg-secondary text-light" ng-click="selectThis($index)">\r\n                <h5 ng-show="section.subtitle" class="d-inline">{{section.subtitle}}</h5>\r\n                <h5 ng-show="!section.subtitle" class="d-inline">Edit this Section</h5>\r\n                <span class="fa fa-trash float-right btn btn-danger" ng-click="deleteSection($index)"></span>\r\n            </div>\r\n\r\n            <div class="card-body bg-transparent" ng-show="selected==$index">\r\n                <h5 class="float-left">{{$index+1}}</h5>\r\n                <div class="clearfix mb-2"></div>\r\n                <div class="form-group row">\r\n                    <label for="{{\'sectionname\'+$index}}" class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >Subtitle: </label>\r\n                    <div class="space col-1"></div>\r\n                    <input class="form-control col-5" type="text" name="title" id="{{\'sectionname\'+$index}}" ng-model="section.subtitle">\r\n                </div>\r\n                <div class="form-group row">\r\n                    <div class="space col-lg-3 col-4"></div>\r\n                    <div class="form-check pl-3">\r\n\r\n                        <input class="form-check-input" type="checkbox" ng-model="section[\'space_after\']" id="{{\'sectionspace\'+$index}}">\r\n                        <label class="form-check-label" for="{{\'sectionspace\'+$index}}">\r\n                            Draw spacer after section\r\n                        </label>\r\n                    </div>\r\n\r\n                </div>\r\n                <h4 class="mt-4">Section Components:  </h4>\r\n\r\n                <div ng-repeat="component in section.components">\r\n                    <div class="card bg-transparent" ng-class="{\'component-selected\': componentSelected==$parent.$index.toString()+$index.toString()}">\r\n                        <div class="card-header" ng-click="setComponentSelected($index,$parent.$index)" ng-class="{\'header-selected\': componentSelected==$parent.$index.toString()+$index.toString()}">\r\n                            <h5 ng-show="component.subtitle" class="d-inline">{{component.subtitle}}</h5>\r\n                            <h5 ng-show="!component.subtitle" class="d-inline">Edit this Section</h5>\r\n\r\n                            <span class="fa fa-trash float-right btn btn-danger" ng-click="deleteComponent($index,$parent.$index)"></span>\r\n                            <div class="btn-group float-right mr-3">\r\n                                <span class=" fa fa-arrow-down btn btn-light btn-outline-dark" ng-click="move(1,section.components,$index,$event)" ng-show="$index<section.components.length-1"></span>\r\n                                <span class=" btn btn-warning fa fa-arrow-up  btn-outline-dark" ng-click="move(-1,section.components,$index,$event)" ng-show="$index>0"></span>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class="card-body bg-transparent" ng-show="componentSelected==$parent.$index.toString()+$index.toString()">\r\n                            <pre>{{component | json}}</pre>\r\n                            <div class="form-group row">\r\n                                <label for="{{\'componentname\'+$index}}" class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >Title: </label>\r\n                                <div class="space col-1"></div>\r\n                                <input class="form-control col-5" type="text" name="title" id="{{\'componentname\'+$index}}" ng-model="component.subtitle">\r\n                            </div>\r\n                            <div class="form-group row">\r\n                                <div class="space col-lg-3 col-4"></div>\r\n                                <div class="form-check pl-3">\r\n\r\n                                    <input class="form-check-input" type="checkbox" ng-model="component[\'space_after\']" id="{{\'componentspace\'+$index}}">\r\n                                    <label class="form-check-label" for="{{\'componentspace\'+$index}}">\r\n                                        Draw spacer after component\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div class="form-group row">\r\n                                <label for="{{\'componenttype\'+$index}}" class="col-lg-2 col-3 text-right align-text-bottom" style="line-height: 2.8" >Type: </label>\r\n                                <div class="space col-1"></div>\r\n                                <select class="form-control col-5" disabled name="{{\'comptype_\'+$index}}" id="{{\'componenttype\'+$index}}" ng-model="component.type" ng-options="choice for choice in typeOptions"></select>\r\n                                <div class="space col-1"></div>\r\n                                <button class="btn btn-primary col-2 w-25 toggles" >Lock/Unlock</button>\r\n                            </div>\r\n                            <ng-include src="\'templates/forms/textparagraph.html\'" ng-if="component.type===\'text-paragraph\'"></ng-include>\r\n                            <ng-include src="\'templates/forms/textalert.html\'" ng-if="component.type===\'text-alert\'"></ng-include>\r\n\r\n                            <text-mythfact-form ng-if="component.type===\'text-mythfact\'" component="component" compindex="$parent.$parent.$index.toString() + $parent.$index.toString()"></text-mythfact-form>\r\n                            <text-quote-form ng-if="component.type===\'text-quote\'" component="component" compindex="$parent.$parent.$index.toString() + $parent.$index.toString()"></text-quote-form>\r\n                            <list-text-form ng-if="component.type===\'list-text\'" component="component" compindex="$parent.$parent.$index.toString() + $parent.$index.toString()"></list-text-form>\r\n                            <link-telephone-form ng-if="component.type===\'link-telephone\'" component="component" compindex="$parent.$parent.$index.toString() + $parent.$index.toString()"></link-telephone-form>\r\n                            <link-website ng-if="component.type===\'link-website\' || component.type===\'link-email\'" component="component" compindex="$parent.$parent.$index.toString() + $parent.$index.toString()"></link-website>\r\n                            <link-pdf ng-if="component.type===\'link-pdf\'" component="component" compindex="$parent.$parent.$index.toString() + $parent.$index.toString()"></link-pdf>\r\n                            <link-reference ng-if="component.type===\'link-reference\'" component="component" compindex="$parent.$parent.$index.toString() + $parent.$index.toString()"></link-reference>\r\n\r\n                            <hr>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <button class="btn btn-success my-3 float-right" ng-click="addNewComponent($index)">\r\n                    <span class="fa fa-plus mr-3"></span>\r\n                    Add new Component\r\n                </button>\r\n\r\n\r\n            </div>\r\n        </div>\r\n        <hr class="mb-4">\r\n    </div>\r\n    <button class="btn btn-success" ng-click="addNewSection()">\r\n        <span class="fa fa-plus mr-3"></span>\r\n        Add new Section\r\n    </button>\r\n\r\n</form>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("chapterSummary",function(){return{restrict:"E",scope:{},template:t(1),link:function(e,n,t,o){},controller:["$scope","navigate","$location","$timeout",function(e,n,t,o){e.titles=[],e.$on("dataWasLoaded",function(n,t){var o=t;if(e.titles=[],o)if(o.hasOwnProperty("introcontent")){var a=!0,r=!1,i=void 0;try{for(var s,c=o.introcontent[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;e.titles.push(l.title)}}catch(e){r=!0,i=e}finally{try{!a&&c.return&&c.return()}finally{if(r)throw i}}}else{var p=!0,d=!1,u=void 0;try{for(var m,f=o.sections[Symbol.iterator]();!(p=(m=f.next()).done);p=!0){var h=m.value;e.titles.push(h.subtitle)}}catch(e){d=!0,u=e}finally{try{!p&&f.return&&f.return()}finally{if(d)throw u}}}}),e.scrollTo=function(n){var t=n.replace(/\s/g,"").toLowerCase();e.$emit("ifsPrepareScroll",[t])}}]}})}},function(e,n,t){"use strict";e.exports=function(e){e.directive("fontSizeSelector",function(){return{restrict:"E",scope:{},template:t(44),link:function(e,n,t){var o=$(n).find(".btn"),a=$("html");o.on("click",function(e){e.stopPropagation(),e.preventDefault();var n=$(e.currentTarget).find(".font-sizer").text(),t=Number(a.css("font-size").substring(0,2));"+"===n&&t<25?(t++,a.css("font-size",t+"px"),t>18&&o.css("width","+=2")):"-"===n&&t>10&&(a.css("font-size",t-1+"px"),t>18&&o.css("width","-=2"))})},controller:["$scope",function(e){}]}})}},function(e,n){e.exports='<div class="btn-toolbar" role="toolbar" aria-label="Buttons to select font size">\r\n    <div class="btn-group mx-2 " role="group" aria-label="Increase or Decrease Font">\r\n        <button   class="btn btn-fonts" aria-label="Increase Font">\r\n            <span class="fa fa-font" aria-hidden="true"></span>\r\n            <span class="font-sizer">+</span>\r\n        </button>\r\n        <button   class="btn btn-fonts" aria-label="Decrease Font">\r\n            <span class="fa fa-font" aria-hidden="true"></span>\r\n            <span class="font-sizer">-</span>\r\n        </button>\r\n    </div>\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("ifsEditable",["$timeout","$parse","$compile",function(e,n,t){return{restrict:"A",link:function(n,o,a,r,i){var s=angular.element('<div class="btn-group btn-group-sm " role="group">\n  <button type="button " class="btn btn-info small py-0 px-1" ng-hide="$first" ng-click="sendUpMessage()" ><span class="fa fa-arrow-up"></span></button>\n  <button type="button " class="btn btn-info small py-0 px-1" ng-hide="$last" ng-click="sendDownMessage()"><span class="fa fa-arrow-down"></span></button>\n  <button type="button " class="btn btn-danger small py-0 px-1" ng-click="sendDeleteMessage()"><span class="fa fa-trash"></span></button>\n</div>');s.css({position:"absolute",top:"0.4rem",right:"0","z-index":"100",opacity:"0.3","font-size":"5px"}),s.hover(function(){s.css("opacity","0.95")},function(){s.css("opacity","0.3")}),n.message=a.ifsEditable;var s=t(s)(n);e(function(){o.addClass("position-relative"),o.append(s)},0)},controller:["$scope",function(e){function n(n,t){return isNaN(t)?e.data[n].name:e.data[t].chapters[n].name}e.sendUpMessage=function(){e.$emit("move",{message:e.message,index:e.$index,parentIndex:e.$parent.$index,direction:"up"})},e.sendDownMessage=function(){e.$emit("move",{message:e.message,index:e.$index,parentIndex:e.$parent.$index,direction:"down"})},e.sendDeleteMessage=function(){e.$emit("deleteFromArray",{message:e.message,index:e.$index,subtitle:n(e.$index,e.$parent.$index),parentIndex:e.$parent.$index})}}]}}])}},function(e,n,t){"use strict";e.exports=function(e){e.directive("ifsExtendable",["$compile","$timeout","$parse",function(e,n,t){return{restrict:"A",link:function(o,a,r,i){var s=t(r.ifsExtendableCallback),c=r.classes||"",l=r.ifsExtendableTitle,p=angular.element('<li class="'+c+'">\n                        <button class="btn btn-success w-100 btn-sm"">\n                            <span class="fa fa-plus-circle fa-fw text-white float-left"></span>\n                            <span> '+l+"</span>\n                        </button>\n                    </li>"),p=e(p)(o);n(function(){a.append(p),$(p).on("click",function(){o.$apply(function(){s(o)})})},0)},controller:["$scope",function(e){}]}}])}},function(e,n,t){"use strict";e.exports=function(e){e.directive("ifsVideo",["$window","$timeout",function(e,n){return{restrict:"E",template:t(48),scope:{element:"=",start:"="},link:function(e,t){e.$on("stopVideo",function(n,t){if(n.preventDefault(),e.videoPlaying){var o=$(e.iframe).attr("src");$(e.iframe).attr("src",o),e.$apply(function(){e.videoPlaying=!1})}}),e.setFrameParams=function(){n(function(){e.iframe=$(t).find("iframe");var n=$(window).width();n>930?(e.iframe.css("width","600px"),e.iframe.css("height","335px")):n<=930&&(e.iframe.css("width","390px"),e.iframe.css("height","218px")),$(window).resize(function(n){var t=$(this).width();t>930?(e.iframe.css("width","600px"),e.iframe.css("height","335px")):t<=930&&(e.iframe.css("width","390px"),e.iframe.css("height","218px"))})})}},controller:["$scope","$sce",function(e,t){e.link=t.trustAsResourceUrl(e.element.video.src),e.videoPlaying=!1,e.openVideo=function(){e.videoPlaying=!e.videoPlaying,e.videoPlaying&&e.setFrameParams()},e.start&&n(function(){e.openVideo()},0)}]}}])}},function(e,n){e.exports='\r\n<div class="video-player d-flex align-items-center justify-content-between flex-column mt-4">\r\n    <h5 ng-show="element.subtitle">{{element.subtitle}}</h5>\r\n    <img src="images/{{element.video.thumb}}" alt="{{element.subtitle}}" title="{{element.subtitle}}" class="img-fluid d-block" ng-show="!videoPlaying">\r\n    <button class="btn play-video" ng-click="openVideo($event)">\r\n        <span class="fa fa-play mr-2" ng-show="!videoPlaying"></span>\r\n        {{videoPlaying ? "Hide Video" : "Play Video"}}\r\n    </button>\r\n\r\n    <iframe type="text/html"\r\n            ng-src={{link}}\r\n            frameborder="0" allowfullscreen ng-if="element.video.type===\'youtube\' && videoPlaying">\r\n    </iframe>\r\n\r\n    <iframe type="text/html"\r\n            ng-src="{{link}}"\r\n            frameborder="0"\r\n            scrolling="no"\r\n            ng-if="element.video.type===\'helix\' && videoPlaying"\r\n            allowfullscreen>\r\n    </iframe>\r\n\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("linkEmail",function(){return{restrict:"E",scope:{component:"="},template:t(50),controller:["$scope",function(e){}]}})}},function(e,n){e.exports='<div class="card card-inner">\r\n    <div class="card-body py-2">\r\n        <div class="card-subtitle">\r\n            E-mail:\r\n        </div>\r\n        <div class="card-text">\r\n            <div ng-repeat="mail in component.links">\r\n                <span class="email-tag mr-4" ng-show="mail.tag">{{mail.tag}}: </span>\r\n                <span class="fa fa-envelope"></span>\r\n                <a href="{{mail.link}}" title="Mail to: {{mail.text}}">{{mail.text}}</a>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("linkTelephone",function(){return{restrict:"E",scope:{component:"="},template:t(52),controlller:function(e){}}})}},function(e,n){e.exports='<div class="card card-inner">\r\n    <div class="card-body py-2">\r\n        <div class="card-subtitle">\r\n            Telephone:\r\n        </div>\r\n        <div class="card-text">\r\n            <span class="fa fa-phone"></span>\r\n            {{component.text}}\r\n        </div>\r\n    </div>\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("listText",["$timeout",function(e){return{restrict:"E",scope:{element:"="},template:t(54),link:function(n,t,o,a){n.applyLinks=function(){e(function(){for(var e=0;e<n.element.list_elements.length;e++){var t=n.element.list_elements[e];if(t.links)for(var o=0;o<t.links.length;o++){var a=t.text.replace(t.links[o].portion,"<span class='fa fa-globe'></span><a href='"+t.links[o].href+"' class='list-link' target='_blank'>"+t.links[o].portion+"</a>");$(".learning-outcome:contains('"+t.links[o].portion+"')").html(a)}}})},n.element.hasOwnProperty("list-elements")&&n.applyLinks()},controller:["$scope","$timeout",function(e,n){}]}}])}},function(e,n){e.exports='<h5 ng-show="component.subtitle">{{component.subtitle}}</h5>\r\n<ul ng-cloak>\r\n    <li class="learning-outcome" ng-repeat="elem in component[\'list_elements\']">\r\n        <text-paragraph component="elem"></text-paragraph>\r\n\r\n    </li>\r\n</ul>\r\n\r\n'},function(e,n,t){"use strict";e.exports=function(e){e.directive("navMenu",function(){return{restrict:"E",template:t(56),link:function(e,n,t,o){},controller:["$scope","navigate","$location","$routeParams","$filter",function(e,n,t,o,a){var r=o.group;e.$watch(function(){return n.getGroup()},function(t,o){t&&"undefined"!=t&&(e.data=n.getData(),e.realData=angular.copy(e.data))}),e.select=function(o,i){i.preventDefault(),i.stopPropagation();var s=a("nospaces")($(i.target).text(),"-");t.path()!=="/content/"+r+"/blocks/"+s&&n.goTo(s,a("nospaces")(e.data[o].chapters[0].name),"-")},e.selectChapter=function(n,o,r){r.preventDefault(),r.stopPropagation();var i=a("nospaces")($(r.target).text(),"-");if(e.chSelected.lastIndexOf("-")===e.chSelected.length-1){var s=t.path();t.url(s+"/chapter/"+a("nospaces")(i,"-"))}else if(e.chSelected.indexOf(i)<=0){var s=t.path().slice(0,t.path().lastIndexOf("/")+1);t.url(s+a("nospaces")(i,"-"))}},e.$watch(function(){return t.path()},function(n){var o=n.slice(t.path().indexOf("/blocks")),r=o.split("/"),i=r.indexOf("blocks"),s=r.indexOf("chapter");i>-1?(e.selected=a("tospaces")(r[i+1],"-"),e.chSelected=e.selected+"-",s>-1&&(e.chSelected+=a("tospaces")(r[s+1],"-"))):(e.selected="",e.chSelected="")})}]}})}},function(e,n){e.exports='<nav class="navbar-nav navbar-light navbar-expand-md main-navigation" >\r\n    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#rsSidebar" aria-controls="rsSidebar" aria-expanded="false" aria-label="Toggle navigation">\r\n        <span class="navbar-toggler-icon"></span>\r\n    </button>\r\n    <div class="navbar-collapse collapse" id="rsSidebar">\r\n        <ul class="nav rs-sidebar flex-column flex-nowrap">\r\n            <li class="nav-item" ng-repeat="block in data" ng-class="{active: selected===block.name}" >\r\n                <a href="" class="nav-link block-link small " ng-click="select($index,$event)">{{block.name}}</a>\r\n                <ul class=" nav rs-sub flex-column flex-nowrap" ng-show="selected===block.name">\r\n                    <li class="nav-item" ng-repeat="chapter in block.chapters" ng-class="{\'sub-active\':chSelected === (block.name+\'-\'+chapter.name)}"  ng-click="selectChapter(block.name,chapter.name,$event)">\r\n                        <a href="" class="nav-link chapter-link h-100 small"  ng-click="selectChapter($parent.$index,$index,$event)">{{chapter.name}}</a>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</nav>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("quizCarousel",function(){return{restrict:"E",scope:{questions:"="},template:t(58),link:function(e,n,t,o){e.progress=$(n).find(".progress-div"),e.carousel=$(n).find("#quiz-carousel"),e.row=$(n).find(".row"),$(e.carousel).on("slide.bs.carousel",function(n){$(".carousel-item").eq(n.to).css("visibility","hidden"),e.current=n.to-1}),$(e.carousel).on("slid.bs.carousel",function(e){$(".carousel-item").eq(e.to).slideDown(300,function(){$(this).css("visibility","visible")})}),e.advanceProgress=function(n,t){var o=$(e.row).children(".progress-cell").eq(t);n?($(o).addClass("correct"),e.correctAnswers++,e.score=Math.floor(100*e.correctAnswers/e.questions.length)):$(o).addClass("wrong")}},controller:["$scope","$route","$location","$routeParams","$timeout",function(e,n,t,o,a){e.correctAnswers=0,e.score=0,e.results=[],e.nextSlide=function(){$(e.carousel).carousel("next")},e.isCorrect=function(n,t){var o={text:e.questions[t].text,answer:e.questions[t].answers[n].text,tip:e.questions[t].tip};e.questions[t].answers[n].id===e.questions[t].correct_answer?(e.advanceProgress(!0,t),o.correct=!0):(e.advanceProgress(!1,t),o.correct=!1),e.results.push(o),t===e.questions.length-1&&a(function(){e.quizFinished=!0},1e3),$(e.carousel).carousel("next")},e.reloadQuiz=function(){n.reload()}}]}})}},function(e,n){e.exports='\r\n<div class="progress-div align-self-center ml-2 mb-3 ">\r\n    <div class="row">\r\n        <div class="progress-text text-center" ng-show="current>=0">\r\n            {{current}} of {{questions.length}}\r\n        </div>\r\n        <div class="col progress-cell" ng-repeat="q in questions" >\r\n        </div>\r\n    </div>\r\n</div>\r\n<div id="quiz-carousel" class="carousel slide quiz " data-interval="false" data-keyboard="false">\r\n    <div class="carousel-inner">\r\n        <div class="carousel-item active  ">\r\n            <div class="first-page d-flex  justify-content-center align-items-center h-100">\r\n                <button class="btn quiz-control quiz-start w-50 "  ng-click="nextSlide()">Start Quiz</button>\r\n            </div>\r\n        </div>\r\n        <div class="carousel-item" ng-repeat="q in questions">\r\n            <div class="question-format d-flex align-content-around justify-content-between flex-wrap flex-column h-100">\r\n                <p class="question-text">Q{{$index+1}}: {{q.text}}</p>\r\n                <div class="d-flex align-content-center justify-content-around ">\r\n                    <a href="" class="btn answer-option" ng-repeat="a in q.answers" ng-click="isCorrect($index,$parent.$index)">{{a.text}}</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="carousel-item">\r\n            <div class="last-page d-flex justify-content-between align-items-center h-100 flex-column">\r\n                <p>Congratulations! You scored <span class="score">{{score}}</span> % !!!</p>\r\n                <button class="btn quiz-control" ng-click="reloadQuiz()">Restart Quiz</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="quiz-results" ng-show="quizFinished">\r\n    <ul class="list-group my-3">\r\n        <li class="list-group-item results">\r\n            <h2>Results</h2>\r\n        </li>\r\n        <li class="list-group-item result-item d-flex flex-column justify-content-between align-items-start" ng-repeat="r in results">\r\n            <p class="question-text">{{r.text}}</p>\r\n            <div class="question-answer">\r\n                <p ng-class="{\'ans-correct\':r.correct,\'ans-incorrect\': !r.correct}">\r\n                    You answered {{r.answer}}\r\n                    <i class="fa fa-check-circle text-success float-right ml-4 fa-2x" ng-show="r.correct"></i>\r\n                    <i class="fa fa-times-circle text-danger float-right ml-4 fa-2x" ng-show="!r.correct"></i>\r\n                </p>\r\n\r\n            </div>\r\n            <div class="card card-inner" ng-show="r.tip">\r\n                <div class="card-body py-2">\r\n                    <div class="card-subtitle">\r\n                        Tip:\r\n                    </div>\r\n                </div>\r\n                <div class="card-text">\r\n                    <p class="question-tip px-3">{{r.tip}}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n        <li class="list-group-item results d-flex align-items-center justify-content-center ">\r\n            <button class="btn quiz-control" ng-click="reloadQuiz()">Restart Quiz</button>\r\n        </li>\r\n    </ul>\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("textQuote",function(){return{restrict:"E",scope:{component:"="},template:t(60),controller:["$scope",function(e){}]}})}},function(e,n){e.exports='<h5 ng-show="component.subtitle">{{component.subtitle}}</h5>\r\n<div class="card card-inner mb-5">\r\n    <div class="card-body py-2">\r\n        <blockquote class="blockquote text-center my-5">\r\n            <p class="mb-0">"{{component.text}}"</p>\r\n            <div class="blockquote-footer" ng-show="component.author || component.year">\r\n                <cite title="Author and Year">\r\n                    {{component.author}} {{component.year}}\r\n                </cite>\r\n            </div>\r\n        </blockquote>\r\n    </div>\r\n</div>\r\n'},function(e,n,t){"use strict";e.exports=function(e){e.directive("themeSelector",function(){return{restrict:"E",template:t(62),scope:{},link:function(e,n,t){var o,a=$("<link>",{rel:"stylesheet",type:"text/css",href:""});a.on("load",function(e){o.remove()}),$(n).find("button[data-theme]").on("click",function(n){e.$emit("changeFont",$(n.currentTarget).attr("data-theme")),n.stopPropagation(),n.preventDefault();var t="assets/css/all-"+$(n.currentTarget).attr("data-theme")+".css";a.attr("href",t),o=$("link[href*=assets]"),1==o.length&&o.attr("href")!=t&&o.after(a[0])})},controller:["$scope",function(e){}]}})}},function(e,n){e.exports='<div class="btn-toolbar" role="toolbar" aria-label="Buttons to select display options">\r\n    <div class="btn-group mx-2" role="group" aria-label="Select Theme">\r\n        <button id="default-theme" data-theme="default" class="btn btn-primary btn-default"><span class="fa fa-font" aria-hidden="true"></span></button>\r\n        <button id="ocean-theme" data-theme="ocean" class="btn btn-primary btn-ocean"><span class="fa fa-font" aria-hidden="true"></span></button>\r\n        <button id="robust-theme" data-theme="robust" class="btn btn-primary btn-robust"><span class="fa fa-font" aria-hidden="true"></span></button>\r\n    </div>\r\n</div>\r\n'},function(e,n,t){"use strict";e.exports=function(e){e.directive("thoughtBubble",function(){return{restrict:"E",scope:{component:"="},template:t(64),controller:["$scope",function(e){}]}})}},function(e,n){e.exports='<div class="thought w-75 mx-auto">\r\n    <p class="thought-title">\r\n        <span class="fa fa-lightbulb-o"></span>\r\n        Think about it!\r\n        <span class="fa fa-lightbulb-o"></span>\r\n    </p>\r\n    <text-paragraph component="component"></text-paragraph>\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("topBar",function(){return{restrict:"E",scope:{},template:t(66),link:function(e,n,t,o){},controller:["$scope","$location","$routeParams",function(e,n,t){var o=/content\/([a-zA-Z]+)/g,a=n.path().split("/"),r=a.indexOf("content");r>-1&&(e.source=a[r+1].charAt(0).toUpperCase()+a[r+1].slice(1)),e.$on("$locationChangeSuccess",function(n,t){var a=o.exec(t);a&&a.length>1?a[1]!==e.source&&(e.source=a[1].charAt(0).toUpperCase()+a[1].slice(1)):t.includes("content")||(e.source="")})}]}})}},function(e,n){e.exports='<header class="container-fluid top-bar ">\r\n\r\n    <nav class="navbar nav-themed navbar-expand flex-column flex-md-row py-0">\r\n        <a class="navbar-brand py-0" href="#">\r\n            IFS\r\n            <span class="navbar-text" ng-show="source">{{source}}...</span>\r\n        </a>\r\n        <ul class="navbar-nav mr-md-auto text-center mt-1 mt-lg-0 justify-content-around" style="flex:1">\r\n            <li class="nav-item active">\r\n                <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>\r\n            </li>\r\n            <li class="nav-item">\r\n                <a class="nav-link " href="">Admin</a>\r\n            </li>\r\n            <li class="nav-item">\r\n                <a class="nav-link  " href="/admin">AdminInterface</a>\r\n            </li>\r\n            <li class="nav-item">\r\n                <a class="nav-link" href="">Link</a>\r\n            </li>\r\n        </ul>\r\n        <theme-selector></theme-selector>\r\n        <font-size-selector></font-size-selector>\r\n    </nav>\r\n</header>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("videoCarousel",function(){return{restrict:"E",scope:{component:"=",compkey:"="},template:t(68),link:{pre:function(e,n){e.carousel=$(n).find(".carousel").carousel({interval:!1}),e.$emit("initialized")}},controller:["$scope",function(e){e.selected=0,e.vSelected=0,e.$on("initialized",function(n){n.preventDefault(),n.stopPropagation(),$(e.carousel).on("slide.bs.carousel",function(n){e.$apply(function(){e.vSelected=n.to})}),$(e.carousel).on("slid.bs.carousel",function(n){e.$broadcast("stopVideo"),e.$apply(function(){e.selected=n.to})})})}]}})}},function(e,n){e.exports='<h4 class="text-center mb-5">{{component.subtitle}}</h4>\r\n<div id="{{compkey+\'videocarousel\'}}" class="carousel slide" data-ride="carousel">\r\n    <div class="d-flex align-items-center justify-content-around w-100 ">\r\n        <a  class="my-carousel-control  d-md-inline d-none" data-target="#{{compkey+\'videocarousel\'}}" role="button" data-slide="prev">\r\n            <span class="fa fa-arrow-left mr-2 "></span>\r\n            <span class="sr-only">Previous</span>\r\n        </a>\r\n        <div class=" w-100 btn-group flex-md-nowrap flex-wrap d-flex align-content-stretch justify-content-start btn-video-carousel-group" role="group">\r\n            <button type="button" class="btn btn-video-carousel px-1" ng-repeat="video in component.videos" ng-class="{active: vSelected===$index}"\r\n                    data-slide-to="{{$index}}" data-target="#{{compkey+\'videocarousel\'}}" ng-style="{\'flex-grow\': 1}">\r\n                <span class="small">{{video.subtitle}}</span>\r\n                <span class="ifs-tooltip px-2" ng-if="component.videos.length>3">{{video.subtitle}}</span>\r\n            </button>\r\n        \x3c!-- TODO: Fix the buttons when window width < 940. They should somehow wrap the text to have more space --\x3e\r\n        </div>\r\n        <a  class="my-carousel-control d-md-inline d-none" data-target="#{{compkey+\'videocarousel\'}}" role="button" data-slide="next">\r\n            <span class="fa fa-arrow-right ml-2"></span>\r\n            <span class="sr-only">Next</span>\r\n        </a>\r\n    </div>\r\n\r\n    <div class="carousel-inner">\r\n        <div class="carousel-item" ng-class="{active: selected===$index}" ng-repeat="video in component.videos">\r\n            <ifs-video element="video"></ifs-video>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,n,t){"use strict";e.exports=function(e){e.directive("matchText",function(){return{restrict:"E",scope:{match:"="},template:t(70),link:function(e,n,t){var o=0;e.match.indices.forEach(function(n){var t=e.match.value.substr(n[0]+o,n[1]-n[0]+1);e.match.value=e.match.value.replace(t,"<span class='' style='color:green'>"+t+"</span>"),o+=42}),$(n).find("p").html(e.match.value)}}})}},function(e,n){e.exports='<p class="text-muted" style="font-size: 1rem;color:#5D6369"></p>'}]);